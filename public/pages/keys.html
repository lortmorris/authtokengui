<div ng-controller="keys">
    <button type="button">
        <i class="fa fa-plus" ng-click="reset()"></i>
    </button>
    <form class="form-inline" ng-submit="addOrEdit()">

        <div class="form-group">
            <label for="userid">User</label>
            <select  ng-model="nKey.userid" id="userid"  ng-options="item as item.email for item in users track by item._id" ng-required="true">
                <option value="">Select user</option>
            </select>

        </div>

        <div class="form-group">
            <label for="apikey">APIKey</label>
            <input type="text" class="form-control" id="apikey" placeholder="xxxxxxx" ng-model="nKey.apikey" ng-required="true">
        </div>

        <div class="form-group">
            <label for="secret">Secret</label>
            <input type="text" class="form-control" id="secret"  ng-model="nKey.secret" ng-required="true">
        </div> <br />

        <div class="form-group">
            <label for="ratelimit">ratelimit</label>
            <input type="text" class="form-control" id="ratelimit"  ng-model="nKey.ratelimit" ng-required="true">
        </div>

        <div class="form-group">
            <label for="allow">allows</label>
            <textarea ng-model="nKey.allows" id="allow" ></textarea>
        </div>
        <div class="form-group">
            <label for="deny">deny</label>
            <textarea ng-model="nKey.deny" id="deny" ></textarea>
        </div>


        <button type="submit" class="btn btn-default" >{{btnAction}}</button>
    </form>

    <div class="responsive-table dash-box2" >
        <table ng-table="tableParamsKeys"  class="table table-striped table-bordered">
            <tr ng-repeat="row in $data" >
                <td data-title="'_id'">{{row._id}}</td>
                <td data-title="'created'">{{row.added | date}}</td>
                <td data-title="'fname'">{{row.fname}}</td>
                <td data-title="'lname'">{{row.lname}}</td>
                <td data-title="'apikey'">{{row.apikey}}</td>
                <td data-title="'secret'">{{row.secret}}</td>
                <td data-title="'ratelimit'">{{row.ratelimit}}</td>
                <td data-title="'allow'">{{row.allow | json}}</td>
                <td data-title="'deny'">{{row.deny | json}}</td>


                <td data-title="'delete'">

                    <button type="button" ng-click="delete(row._id)">
                        <i class="fa fa-times"></i>
                    </button>

                    <button type="button" ng-click="edit(row)">
                        <i class="fa fa-pencil-square-o"></i>
                    </button>

                </td>

            </tr>
        </table>
    </div>



</div>
